<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../style.css">
    
    <div class="btn-bar"> _</div>
    <button class="btn" onclick="location.href='../2GR.html';">2GR</button>
    <button class="btn" onclick="location.href='../EOPair/EOPair.html'">EOPair</button>
    <div class="dropdown">
      <button class="dropbtn" style="font-weight: bold" onclick="location.href='../CPLine/CPLine.html'">CPLine</button>
      <div class="dropdown-content">
        <a href="../CPLine/Recog.html">Theory - Recognition</a>
        <a href="../CPLine/Track.html">Theory - Tracking</a>
      </div>
    </div>
    <button class="btn" onclick="location.href='../Block/Block.html'">Block</button>
    <button class="btn" onclick="location.href='../F2L/F2L.html'">F2L</button>
    <div class="dropdown">
      <button class="dropbtn" onclick="location.href='../2GLL/2GLL.html'">2GLL</button>
      <div class="dropdown-content">
        <a href="../2GLL/2GLL_U.html">U</a>
        <a href="../2GLL/2GLL_T.html">T</a>
        <a href="../2GLL/2GLL_Pi.html">Pi</a>
        <a href="../2GLL/2GLL_S.html">S</a>
        <a href="../2GLL/2GLL_AS.html">AS</a>
        <a href="../2GLL/2GLL_L.html">L</a>
        <a href="../2GLL/2GLL_H.html">H</a>
        <a href="../2GLL/2GLL_O.html">O (EPLL)</a>
      </div>
    </div>
      
    <div class="dropdown">
      <button class="dropbtn" onclick="location.href='#'">Trainers</button>
      <div class="dropdown-content">
        <a href="../Trainers/CP.html">CP</a>
        <a href="../Trainers/2GLL.html">2GLL</a>
      </div>
    </div>
    <button class="btn" onclick="location.href='../Examples/Examples.html'">Examples</button>
    <script src="../js/exampleLoader.js"></script>
  </head>
  <body>
    <div class="page">
      <h1 class="title">CPLine</h1>
      In this step, we'll solve DLF (completing a 3x1x1 line on LD) while forcing the remaining 6 corners into one of 120 of 720 possible permutations (this allows us to solve the corners &lt;R,U&gt;). This step is divided into two parts: (1) we'll learn to find a "key swap" and (2) we'll learn how R, U, and F affect it.<br>
      <br>
      <!--If you want to learn about some of the theory behind why key swaps, recognition, and tracking work, or why certain things described below are done they way that they are, the links in the dropdown menu under "CPLine" above provide some extra explanation. The rest of this page contains only what's necessary to learn how to execute CPLine effectively.<br>
      <br>-->
      <hr>
      <h2 class="title">Recognition</h2>
      <p>
        A key swap is just 2 special corner pieces on the R or U faces. There are 3 steps to finding a key swap: (1) find an ordered triplet which you'll use to (2) find an "initial swap", then (3) convert the initial swap into a key swap.<br>
        <br>
        Building on conventions from the EOPair section, this tutorial will use red front yellow top. To make things easier, we'll give each of the remaining 7 corners a name.
        <table id="corner-names"></table>
        <br>
        <script>
          var maxWidth = window.getComputedStyle(document.getElementsByClassName("page")[0]).width;
          maxWidth = maxWidth.substring(0, maxWidth.length-2);
          loadExample(document.getElementById("corner-names"), maxWidth, ["y", "x", "z", "2", "3", "4", "1"], [
            "y", "y2", "x2 y", "y'", "y'", "y'", ""], undefined, true, true);
        </script>
      </p>
      
      <h3>LL Recognition</h3>
      <p>
        First, we need our ordered triplet. If x (the corner that belongs at DFL) is unsolved, pretend that it's whatever corner is currently at DFL. Now, based on where Y and Z are, read an ordered triplet of 3 LL corners as illustrated in the diagrams below by the corners marked in gray (starting at the brightest and ending at the darkest).<br>
        <br>
        If Y and Z are either both on U or both on D, there are 5 possibilities:
        <table id="yoda-anakin-UD"></table>
        <br>
        If only one of the two are on D, there are 4 possibilities:
        <table id="yoda-anakin-1only"></table>
        <br>
      </p>
      <script>
        insertTable(document.getElementById("yoda-anakin-UD"), maxWidth/6 * 5, ["Both solved", "Both swapped", "Y-Z on U", "Z-Y on U", "Diag on U"], [
          "&stickers=FFFFFF,FF8C00,228B22,B22222,777777,DDDD00,EEEEEE,BBBBBB,999999|446444847|448444444|847444443|746444242|644444144|440440440&hideButtons=true",
          "&stickers=FFFFFF,FF8C00,228B22,B22222,777777,DDDD00,999999,BBBBBB,EEEEEE|446444847|448444444|847444441|746444242|644444344|440440440&hideButtons=true",
          "&stickers=FFFFFF,FF8C00,228B22,B22222,777777,DDDD00,EEEEEE,BBBBBB,999999|740444640|746444444|641444448|242444844|347444444|448444444&hideButtons=true",
          "&stickers=FFFFFF,FF8C00,228B22,B22222,777777,DDDD00,EEEEEE,BBBBBB,999999|640444740|647444444|742444444|341444448|246444844|444444448&hideButtons=true",
          "&stickers=FFFFFF,FF8C00,228B22,B22222,777777,DDDD00,EEEEEE,BBBBBB,999999|440444047|442444444|347444446|741444648|244444844|447444448&hideButtons=true"
        ], ["Any 3 corners on U in clockwise order", "Any 3 corners on U in counterclockwise order", "The remaining 2 corners on U in clockwise order + DRF", "The remaining 2 corners on U in counterclockwise order + DRB", "DRF + the corner on U immediately clockwise of Z + DRB"])
        
        insertTable(document.getElementById("yoda-anakin-1only"), maxWidth/6 * 4, ["Solved Y", "Confused Y", "Solved Z", "Confused Z"], [
          "&stickers=FFFFFF,FF8C00,228B22,B22222,777777,DDDD00,EEEEEE,BBBBBB,999999|840444647|846444444|647444443|741444244|248444444|444444444&hideButtons=true",
          "&stickers=FFFFFF,FF8C00,228B22,B22222,777777,DDDD00,EEEEEE,999999,BBBBBB|840444647|846444444|647444444|741444443|248444244|444444444&hideButtons=true",
          "&stickers=FFFFFF,FF8C00,228B22,B22222,777777,DDDD00,EEEEEE,BBBBBB,999999|847444640|846444444|642444444|347444442|748444144|444444444&hideButtons=true",
          "&stickers=FFFFFF,FF8C00,228B22,B22222,777777,DDDD00,BBBBBB,EEEEEE,999999|847444640|846444444|642444442|347444144|748444444|444444444&hideButtons=true"
        ], ["Beginning diagonally across from Z, 3 LL corners in counterclockwise order ('check mark' shape)", "Beginning diagonally across from Z, 3 LL corners in clockwise order", "Beginning clockwise of Y, 3 LL corners in counterclockwise order", "Beginning counterclockwise of Y, 3 LL corners in clockwise order"])
      </script>
      
      <h3>Initial swap</h3>
      <p>
        We'll now use this triplet to get an initial swap. If we label our ordered list of corners with the letters (A, B, C), we can find this LL swap by looking at how (1) A is related to B, and (2) B is related to C.<br>
        <br>
        To do this we'll define 3 types of relations between two corners A, B:<br>
        1. Forwards: A is clockwise of B (e.g. A = 1, B = 2)<br>
        2. Backwards: A is counterclockwise of B (e.g. A = 2, B = 1)<br>
        3. Jump: A is two steps ahead of B (e.g. A = 1, B = 3)<br>
        <br>
        Now, we can figure out which two of A, B, C, D need to be swapped (where D = the last LL corner that wasn't included in the triplet. The table below lists possible relations (A-B, B-C) and the corresponding LL swap:<br>
        <table width="100%">
          <tr>
            <td><b>(forwards, forwards)<b></td>
            <td><b>(forwards, jump)<b></td>
            <td><b>(backwards, backwards)<b></td>
            <td><b>(backwards, jump)<b></td>
            <td><b>(jump, forwards)<b></td>
            <td><b>(jump, backwards)<b></td>
          </tr>
          <tr>
            <td>None</td>
            <td>C, D</td>
            <td>A, C</td>
            <td>A, B</td>
            <td>A, D</td>
            <td>B, C</td>
          </tr>
        </table>
        <br>
      </p>
      
      <h3>Standard form</h3>
      <p>
        Now, we just need to convert our initial swap into a key swap. Key swaps have to satisfy the following:<br>
        - if X is unsolved, the key swap must contain X.<br>
        - if X is solved, the key swap must only involve corners on R.<br>
        <br>
        If your initial swap currently doesn't satisfy the above, you're going to have to choose 2 different corners for your key swap. To do this, use the 5 diagrams below.
        Each diagram depicts 3 swaps (for example, the leftmost diagram contains the swaps UBL-UBR, UFR-DFR, and UFL-DBR). Find the diagram that contains your initial swap. Your key swap is just the swap in this diagram that satisfies the key swap requirements about X being solved/unsolved.<br>
        <br>
        The name above each diagram is a mnemonic that happens to perform 2 of the 3 swaps depicted in each diagram. Don't worry too much about it--learning the names won't be necessary for performing CPLine.<br>
        <br>
        <table id="standardization-tables"></table>
        <br>
      </p>
      <script>
        insertTable(document.getElementById("standardization-tables"), maxWidth/6 * 4, ["(R U R' U')3", "U2", "(R' U' R U)3", "R2 U2 R2", "R2"], [
          "&stickers=999999,FF0000,00FF00,0000FF,DDDDDD,EEEEEE|101000203|102000000|203000003|301000302|000000000|000000000&hideButtons=true",
          "&stickers=999999,FF0000,00FF00,0000FF,DDDDDD,EEEEEE|102000201|000000000|201000003|102000303|000000000|000000000&hideButtons=true",
          "&stickers=999999,FF0000,00FF00,0000FF,DDDDDD,EEEEEE|102000303|000000000|303000001|302000102|000000000|000000000&hideButtons=true",
          "&stickers=999999,FF0000,00FF00,0000FF,DDDDDD,EEEEEE|102000302|000000000|302000003|202000301|000000000|000000000&hideButtons=true",
          "&stickers=999999,FF0000,00FF00,0000FF,DDDDDD,EEEEEE|102000103|000000000|103000002|302000203|000000000|000000000&hideButtons=true"
        ], ["", "", "", "", "", ""])
      </script>
      
      <hr>
      <h2 class="title">Tracking</h2>
      <p>
        To efficiently solve EOPair and CPLine in inspection, you'll need to know how &lt;R, U, F&gt; changes key swaps.<br>
      </p>
      
      <h3>&lt;R, U&gt;</h3>
      <p>
        R and U are fairly straightforward:<br>
        - if your key swap involves X, R and U simply move the two swap pieces around normally.<br>
        - if your key swap does not involve X, you'll have to make sure that it's always in standard form (i.e. only involves corner pieces on R). R and U moves will still move the two swap pieces around normally, but sometimes you may have to rewrite the swap if it starts to involve a corner not on R.<br>
      </p>
      
      <h3>&lt;F&gt;</h3>
      <p>
        F moves are more complicated. They will move X around normally, but affect the other swap piece in obscure ways. You'll have to learn what F moves do to every possible key swap. We can do this by memorizing ordered quadruples of key swaps (A, B, C, D), where:<br>
        - an F will get you from A to B, B to C, C to D, or D to A;<br>
        - an F' will get you from A to D, D to C, C to B, or B to A;<br>
        - an F2 will get you from A to C, B to D, C to A, or D to B.<br>
        <br>
        There are 15 quadruples to memorize. The corners in red represent a starting key swap A (where solid red = X. If there is no light red corner, A = no-swap, and if there is no solid red corner, X is solved). Since X moves around normally, the diagrams don't keep track of it; corners in grayscale just show what happens to the other swap piece as you move through the quadruple from B to D (starting at the brightest and ending at the darkest).<br>
        <br>
        To aid memorization, quadruples are divided into 3 categories.<br>
        <br>
        Singularities - key swaps that aren't affected by F moves:<br>
        <table id="singularities"></table>
        <br>
        
        Paths - quadruples where X isn't affected:<br>
        <table id="paths"></table>
        <br>
        
        Creatures - quadruples where X is affected:<br>
        <table id="creatures"></table>
        <br>
        So now, for example: if your key swap is [DFR]-URF (the square brackets indicate that X is at DFR), you can figure out what an F move might do to it by looking for the [DFR]-URF swap in the diagrams above (in this case, it happens to be in Seahorse) and reading out the next swap in the quadruplet ([DFR]-URF = D in the Seahorse quadruplet, so an F move would turn the key swap into A in the Seahorse quadruplet or URB-DRB).<br>
        <br>
      </p>
      <script>
        insertTable(document.getElementById("paths"), maxWidth/6 * 3, ["Launch", "Cloud", "Spaz"], [
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|400000003|000000000|003000002|300000201|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|300000201|000000000|201000000|100000004|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|104000300|000000000|300000002|004000205|000000000|000000000&hideButtons=true"
        ], ["", "", ""])
        insertTable(document.getElementById("singularities"), maxWidth/6 * 5, ["Sun", "Obelisk", "Chevron", "Spacecraft 1", "Spacecraft 2", "Spacecraft 3", "Point"], [
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|004000000|000000000|000000000|004000000|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|005000000|000000000|000000000|005000004|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|000000000|000000000|000000005|000000504|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|004000005|000000000|005000000|504000000|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|400000500|000000000|500000000|000000000|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|405000000|000000000|000000000|005000000|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|001000000|000000000|000000400|001000000|000000000|000000000&hideButtons=true",
        ], ["", "", "", "", "", "", "In this special case, X moves, but the other swap piece stays constant."])
        insertTable(document.getElementById("creatures"), maxWidth/6 * 5, ["Tripod", "Seahorse", "Horseshoe", "Twister", "Ground"], [
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|305000002|000000000|002000000|505000001|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|205000003|000000000|003000001|305000105|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|100000200|000000000|200000003|000000505|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|000000301|000000000|305000005|100000502|000000000|000000000&hideButtons=true",
          "&stickers=777777,EEEEEE,BBBBBB,999999,FF0000,FFAAAA|005000100|000000000|100000002|005000503|000000000|000000000&hideButtons=true",
        ], ["URF is stickered with two colors because it's part of A and C.", "", "", "", ""])
      </script>
      
      <hr>
      <h2 class="title">Execution</h2>
      <p>
        The above will allow you to find a key swap in inspection and predict what will happen to it through EOPair (this is the reason why EOPair is done &lt;R,r,U,u,F,f&gt;). Additionally, we now have an efficient way to solve CPLine: move the swap pieces around normally with &lt;R,U&gt; until X is on the F face and the other swap piece is at URB (which puts the key swap into the Point quadruple), and then use an F move to solve X while changing our key swap from X-URB to solved (since the Point quadruple includes the fully solved state, we know that once we solve X with an F move the key swap will also be solved).<br>
        <br>
        If X is already solved, twisted in place, or the key swap = no-swap, start with an F move to displace X or change the key swap, and then proceed with the above.<br>
        <br>
        If you're having trouble seeing how this is done, take a look at some <a href="../Examples/Examples.html">example solves</a>.
        <br>
        It will take some time before you become comfortable with planning both EOPair and CPLine (a.k.a. "2GLine") in inspection. As a stepping stone, you can identify a key swap + plan the EOPair in inspection, then track your swap through your EOPair execution. You can also use the <a href="../Trainers/CP.html">CP trainer</a> to get practice tracking and recognizing key swaps quickly.<br>
        <br>
        Click <a href="../Block/Block.html">here</a> to move on to the next step (Block).
      </p>
    </div>
  </body>
</html>